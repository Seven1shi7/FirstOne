# 伤害系统使用说明

## 问题排查步骤

### 1. 检查敌人设置
- 确保敌人GameObject有 "Enemy" 标签
- 确保敌人有 Enemy 脚本组件
- 确保敌人的生命值大于0

### 2. 检查技能范围
- 确保敌人在技能范围内
- 圆形技能：距离 <= skillRadius
- 矩形技能：在矩形区域内
- 扇形技能：在扇形区域内

### 3. 检查调试信息
- 打开Console窗口查看调试信息
- 确认技能是否被触发
- 确认敌人是否被检测到
- 确认伤害是否被计算

### 4. 使用测试工具
- 将 DamageTest 脚本添加到场景中的空GameObject
- 按 T 键测试伤害
- 使用GUI按钮检查敌人状态

## 常见问题

### 问题1：怪物不掉血
**可能原因：**
- 敌人没有Enemy组件
- 敌人没有"Enemy"标签
- 敌人在技能范围外
- 敌人已经死亡

**解决方法：**
1. 检查敌人是否有Enemy脚本
2. 检查敌人标签是否为"Enemy"
3. 调整技能范围参数
4. 查看Console调试信息

### 问题2：看不到伤害数字
**可能原因：**
- 没有伤害数字预制体
- 伤害数字位置不对
- 伤害数字被其他物体遮挡

**解决方法：**
1. 系统会自动创建简单伤害数字
2. 检查伤害数字生成位置
3. 确保摄像机能看到伤害数字

### 问题3：血条不更新
**可能原因：**
- 血条UI没有正确设置
- UpdateHealthUI方法没有调用

**解决方法：**
1. 检查血条UI组件
2. 确保Enemy脚本正确更新UI

## 测试步骤

1. **添加测试脚本**
   - 将 DamageTest 脚本添加到场景
   - 按 T 键测试伤害

2. **检查敌人状态**
   - 使用"检查敌人状态"按钮
   - 查看Console输出

3. **重置敌人**
   - 使用"重置所有敌人"按钮
   - 重新开始测试

4. **使用技能**
   - 点击技能按钮
   - 观察敌人血条变化
   - 查看伤害数字

## 参数设置

### 技能参数（在Move脚本中）
- `skillRadius`: 技能半径
- `skillWidth`: 矩形技能宽度
- `skillLength`: 矩形技能长度
- `skillAngle`: 扇形技能角度

### 伤害参数
- `circleDamage`: 圆形技能伤害
- `rectangleDamage`: 矩形技能伤害
- `sectorDamage`: 扇形技能伤害
- `attackDamage`: 普通攻击伤害

### 敌人参数（在Enemy脚本中）
- `maxHealth`: 最大生命值
- `hurtFlashDuration`: 受伤闪烁时间
- `destroyDelay`: 死亡后销毁延迟 